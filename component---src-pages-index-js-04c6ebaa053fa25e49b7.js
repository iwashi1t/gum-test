"use strict";(self.webpackChunkgum_test=self.webpackChunkgum_test||[]).push([[678],{957:function(e,t,o){o.r(t),o.d(t,{default:function(){return r}});var i=o(294),n=o.p+"static/test-f8a27158c0bc147a46bd66e7f35c1a3a.png",c=o.p+"static/img10-f-651f5d532c0dcd9c7764a17e17895bcd.png",a=640/480,r=function(){var e=(0,i.useRef)(),t=(0,i.useRef)(),o=(0,i.useState)(),r=o[0],l=o[1],s=function(){e.current.pause();var o=t.current.getContext("2d"),i=window.getComputedStyle(e.current),n=parseFloat(i.width),c=parseFloat(i.height);console.log("*** videoView width="+n+" height="+c);var r=e.current,s=r.videoWidth,u=r.videoHeight;console.log("*** video width="+s+" height="+u);var d=u/s,h=c/n,f=h>a?[n,n*a]:[c/a,c],g=f[0],p=f[1];console.log("*** frameView width="+g+" height="+p);var m=d>h?s/n:u/c;console.log("*** videoRatio="+m);var v=g*m,b=p*m,w=(s-v)/2,y=(u-b)/2;console.log("*** drawImage x="+w+" y="+y+" w="+v+" h="+b),o.drawImage(e.current,w,y,v,b,0,0,480,640),t.current.toBlob((function(e){console.log("*** blob",e);var t=URL.createObjectURL(e);l(t)}))};return(0,i.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(t){e.current.srcObject=t,setTimeout(s,3e3)})).catch((function(e){console.error(e)}))}),[]),i.createElement("div",null,i.createElement("video",{ref:function(t){return e.current=t},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"cover"},autoPlay:!0,playsInline:!0,muted:!0,poster:n}),i.createElement("canvas",{ref:function(e){return t.current=e},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"contain"},width:480,height:640}),i.createElement("img",{src:c,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"contain"},alt:"Frame image"}),i.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between"}},i.createElement("div",{style:{height:100}}),i.createElement("div",{style:{height:100,display:"flex",justifyContent:"center",alignItems:"center"}},r&&i.createElement("a",{href:r,download:!0},"DOWNLOAD"))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-04c6ebaa053fa25e49b7.js.map