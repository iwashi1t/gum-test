"use strict";(self.webpackChunkgum_test=self.webpackChunkgum_test||[]).push([[678],{957:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(294),c=(n.p,n.p+"static/img10-f-651f5d532c0dcd9c7764a17e17895bcd.png"),r=640/480,l=function(){var e=(0,i.useRef)(),t=(0,i.useRef)(),n=(0,i.useState)(!1),l=n[0],o=n[1],a=(0,i.useCallback)((function(){e.current.pause();var n=window.getComputedStyle(e.current),i=parseFloat(n.width),c=parseFloat(n.height),l=e.current,o=l.videoWidth,a=l.videoHeight,u=c/i,s=u>r?[i,i*r]:[c/r,c],d=a/o>u?o/i:a/c,f=s[0]*d,p=s[1]*d,h=(o-f)/2,g=(a-p)/2;t.current.getContext("2d").drawImage(e.current,h,g,f,p,0,0,480,640),t.current.toBlob((function(t){console.log("takePhoto blob",t),e.current.play()}))}),[e.current,t.current]),u=(0,i.useCallback)((function(){var t,n;null===(t=e.current.srcObject)||void 0===t||null===(n=t.getTracks())||void 0===n||n.forEach((function(e){return e.stop()})),o(!l)}),[l,e.current]);return(0,i.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:l?"user":"environment"},audio:!1}).then((function(t){e.current.srcObject=t})).catch((function(e){console.error(e)}))}),[l]),i.createElement("div",null,i.createElement("video",{ref:function(t){return e.current=t},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"cover"},autoPlay:!0,playsInline:!0,muted:!0}),i.createElement("canvas",{ref:function(e){return t.current=e},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"contain"},width:480,height:640}),i.createElement("img",{src:c,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block",objectFit:"contain"},alt:"Frame image"}),i.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between"}},i.createElement("div",{style:{height:80,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:20}},i.createElement("button",{onClick:u},"SWITCH FACING")),i.createElement("div",{style:{height:120,display:"flex",alignItems:"center",padding:20}},i.createElement("div",{style:{flex:1}}),i.createElement("div",null,i.createElement("button",{onClick:a},"SHOOT")),i.createElement("div",{style:{flex:1}}))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-4bff9fa333452059724c.js.map